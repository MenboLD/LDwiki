<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1,viewport-fit=cover" name="viewport"/>
<title>攻略指標ツール</title>
<link href="ld_kouryaku_indicator.css" rel="stylesheet"/>
<script src="supabase_config.js"></script>
</head>
<body>
<header class="topbar">
<div class="topbar__inner">
<div class="title">
<div class="title__main">攻略指標ツール</div>
<div class="title__sub">踏破ウェーブ → 10Wave後を倒せるかの目安</div>
</div>
<button class="topbar__btn" id="btnHelp" type="button">使い方</button>
</div>
</header>
<main class="container">
<section class="card"><div class="card__titleRow"><h2 class="card__title">共通</h2><button class="miniBtn" id="btnDefaults" type="button">デフォルト</button></div>

<div class="grid2-always common-top"><div class="field"><div class="field__label">難易度</div><div class="wheel-field wheel-field--tight"><select class="select select--hidden" id="modeSel"></select><div aria-hidden="true" class="wheel" data-wheel-for="modeSel" id="wheelMode"></div></div><div class="radio-row is-hidden" id="modeRadios"></div></div><div class="field">
<label class="field__label" for="vaultLv">金庫Lv</label>
<div class="wheel-field"><select class="select select--hidden" id="vaultLv"></select><div aria-hidden="true" class="wheel" data-wheel-for="vaultLv" id="wheelVaultLv"></div></div>
</div></div><details class="accordion" id="advancedSettings"><summary class="accordion__summary">詳細設定（グランドママの使用時や太初用）</summary><div class="accordion__body"><div class="grid2-always"><div class="field">
<label class="field__label" for="moneyLv">マネーガンLv</label>
<div class="wheel-field"><select class="select select--hidden" id="moneyLv"></select><div aria-hidden="true" class="wheel" data-wheel-for="moneyLv" id="wheelMoneyLv"></div></div>
</div><div class="field"><label class="field__label" for="buffPct">共有バフ 攻撃力増加</label><div class="buffwheel"><div class="wheel-field wheel-field--buff"><select class="select select--hidden" id="buffPctSel"></select><div aria-hidden="true" class="wheel" data-wheel-for="buffPctSel" id="wheelBuff"></div></div></div><input class="input input--hidden" id="buffPct" inputmode="numeric" placeholder="0〜9950"/></div></div><div class="field field--full"><label class="field__label" for="coinPrev">踏破ウェーブ コイン枚数</label><div class="coinwheel"><div class="wheel-field wheel-field--digit"><select class="select select--hidden" id="coinD1"></select><div aria-hidden="true" class="wheel" data-wheel-for="coinD1" id="wheelCoinD1"></div></div><div class="coinwheel__sep">,</div><div class="wheel-field wheel-field--digit"><select class="select select--hidden" id="coinD2"></select><div aria-hidden="true" class="wheel" data-wheel-for="coinD2" id="wheelCoinD2"></div></div><div class="wheel-field wheel-field--digit"><select class="select select--hidden" id="coinD3"></select><div aria-hidden="true" class="wheel" data-wheel-for="coinD3" id="wheelCoinD3"></div></div><div class="wheel-field wheel-field--digit"><select class="select select--hidden" id="coinD4"></select><div aria-hidden="true" class="wheel" data-wheel-for="coinD4" id="wheelCoinD4"></div></div><div class="coinwheel__sep">,</div><div class="coinwheel__suffix">000</div></div><input class="input input--hidden" id="coinPrev" inputmode="numeric" placeholder="100〜9,999,000"/></div></div></details><div class="section-divider"></div><h2 class="card__title card__title--sub">踏破ウェーブ</h2><div class="field" id="prevWaveField"><div class="field__label">ウェーブ</div><div class="radio-row" id="prevWaveRadios"></div></div><div class="grid3-compare"><div class="field"><label class="field__label" for="prevUpLv">強化</label><div class="wheel-field"><select class="select select--hidden" id="prevUpLv"></select><div aria-hidden="true" class="wheel" data-wheel-for="prevUpLv" id="wheelPrevUpLv"></div></div></div><div class="field"><div class="field__label">戦闘時間</div><div class="wheel-field"><select class="select select--hidden" id="prevTime"></select><div aria-hidden="true" class="wheel" data-wheel-for="prevTime" id="wheelPrevTime"></div></div></div><div class="field"><div class="field__label">アタッカー数</div><div class="wheel-field"><select class="select select--hidden" id="prevAtkCnt"></select><div aria-hidden="true" class="wheel" data-wheel-for="prevAtkCnt" id="wheelPrevAtkCnt"></div></div></div></div><div class="subheadRow"><div class="subhead">検証ウェーブ</div><button class="miniBtn" id="btnSetFromPrev" type="button">踏破ウェーブの値をセット</button></div><div class="grid3-compare"><div class="field"><label class="field__label" for="testUpLv">強化</label><div class="wheel-field"><select class="select select--hidden" id="testUpLv"></select><div aria-hidden="true" class="wheel" data-wheel-for="testUpLv" id="wheelTestUpLv"></div></div></div><div class="field"><div class="field__label">戦闘時間</div><div class="wheel-field"><select class="select select--hidden" id="testTime"></select><div aria-hidden="true" class="wheel" data-wheel-for="testTime" id="wheelTestTime"></div></div></div><div class="field"><div class="field__label">アタッカー数</div><div class="wheel-field"><select class="select select--hidden" id="testAtkCnt"></select><div aria-hidden="true" class="wheel" data-wheel-for="testAtkCnt" id="wheelTestAtkCnt"></div></div></div></div><div class="metrics3" id="testMetricsRow"><div class="metric-card"><div class="metric-card__label">強化倍率</div><div class="metric-card__value" id="lblUpRatio">-</div></div><div class="metric-card"><div class="metric-card__label">時間倍率</div><div class="metric-card__value" id="lblTimeRatio">-</div></div><div class="metric-card"><div class="metric-card__label">アタッカー数倍率</div><div class="metric-card__value" id="lblAtkRatio">-</div></div></div><div class="metrics3" id="testMetricsRow2"><div class="metric-card"><div class="metric-card__label">コイン火力倍率</div><div class="metric-card__value" id="mCoin">-</div></div><div class="metric-card"><div class="metric-card__label">敵倍率（HP）</div><div class="metric-card__value" id="mEnemy">-</div></div><div class="metric-card"><div class="metric-card__label">ユーザー倍率</div><div class="metric-card__value" id="mUser">-</div></div></div><div class="kv kv--judge"><div class="kv__k">判定</div><div class="judge" id="judge">-</div></div><div class="metrics3" id="needRow"><div class="metric-card"><div class="metric-card__label">必要強化Lv</div><div class="metric-card__value" id="needUpLv">-</div></div><div class="metric-card"><div class="metric-card__label">必要時間</div><div class="metric-card__value" id="needTime">-</div></div><div class="metric-card"><div class="metric-card__label">必要アタッカー数</div><div class="metric-card__value" id="needAtkCnt">-</div></div></div><details class="accordion breakdown" id="breakdown"><summary class="accordion__summary">内訳</summary><div class="summary-box breakdown-box"><div class="summary-line summary-line--muted">強化 × 時間 × アタッカー数 × コイン火力 = ユーザー倍率</div><div class="summary-line" id="sumLine1">-</div><div class="summary-line" id="sumLine2">-</div><div class="summary-line" id="sumLine3">-</div><div class="summary-line" id="sumLine4">-</div><div class="summary-line" id="detLineUp">-</div><div class="summary-line" id="detLineTime">-</div><div class="summary-line" id="detLineAtk">-</div><div class="summary-sep"></div><div class="summary-line" id="detLineEnemy">-</div></div></details></section>
<footer class="footer">
<div class="footer__note">
        ※ 計算は「踏破ウェーブ → +10Wave」での目安です。実ダメージはユニット構成や係数により変動します。
      </div>
</footer>
</main>
<script src="ld_kouryaku_indicator.js" type="module"></script>
<div aria-modal="true" class="modal is-hidden" id="modalConfirm" role="dialog"><div class="modal__panel"><div class="modal__title" id="modalConfirmTitle">確認</div><div class="modal__body" id="modalConfirmBody">--</div><div class="modal__actions"><button class="miniBtn miniBtn--ghost" id="modalConfirmNo" type="button">キャンセル</button><button class="miniBtn" id="modalConfirmOk" type="button">OK</button></div></div></div><div aria-modal="true" class="modal is-hidden" id="modalHelp" role="dialog"><div class="modal__panel"><div class="modal__title">使い方</div><div class="modal__body"><p>ここにマニュアル内容が入ります（仮）。</p><ul><li>踏破ウェーブを選ぶ</li><li>検証ウェーブの条件を調整</li><li>判定と内訳を確認</li></ul></div><div class="modal__actions"><button class="miniBtn" id="modalHelpClose" type="button">閉じる</button></div></div></div></body>
</html>

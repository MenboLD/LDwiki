<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="/LDwiki/">
  <title>LDwiki - ユニット</title>
  <link rel="stylesheet" href="common_header.css?v=20251228a">
  <script src="supabase_config.js?v=20251228a"></script>
  <script src="common_header.js?v=20251228a"></script>
  <link rel="stylesheet" href="units/unit_page.css?v=20251228a">
</head>

<body data-page-name="ユニット > uba001" data-unit-id="515">
  <main class="app-main unit-page">

    <section class="unit-card" id="unitTop">
      <div class="unit-top">
        <img id="unitIcon" class="unit-icon" src="" alt="">
        <div class="unit-title">
          <div class="unit-name">
            <span id="unitNameJP">（JP名）</span>
            <span class="unit-name-en" id="unitNameEN">（EN名）</span>
          </div>
          <div class="unit-meta">
            <span class="pill" id="unitRace">種族</span>
            <span class="pill" id="unitRank">ランク</span>
          </div>
        </div>
      </div>

      <div class="block" id="matBlock" hidden>
        <h2 class="h2">素材</h2>
        <div class="mat-list" id="matList"></div>
      </div>

      <div class="block" id="awakeBlock" hidden>
        <h2 class="h2">覚醒条件</h2>
        <div class="md" id="awakeText"></div>
      </div>

      <div class="block" id="formBlock" hidden>
        <h2 class="h2">形態</h2>
        <div class="form-links" id="formLinks"></div>
      </div>

      <div class="block">
        <h2 class="h2">ステータス（Lv1）</h2>
        <div class="stats-grid">
          <div class="stat"><div class="k">攻撃力</div><div class="v" id="statAtk">-</div></div>
          <div class="stat"><div class="k">攻撃速度</div><div class="v" id="statAspd">-</div></div>
          <div class="stat"><div class="k">射程</div><div class="v" id="statRange">-</div></div>
        </div>
        <div class="range-viz" id="rangeViz" hidden></div>
      </div>
    </section>

    <section class="unit-card" id="abilities">
      <h2 class="h2">固有能力</h2>
      <div class="table" id="abilityTable"></div>
    </section>

    <section class="unit-card" id="levelMods">
      <h2 class="h2">レベル特性</h2>
      <div class="table" id="levelModTable"></div>

      <div class="block" id="treasureBlock" hidden>
        <h3 class="h3">専用財宝</h3>
        <div class="treasure-top">
          <img id="treasureIcon" class="treasure-icon" src="" alt="">
          <div>
            <div class="treasure-name" id="treasureName">（財宝名）</div>
            <div class="treasure-sub">Lv1〜11</div>
          </div>
        </div>
        <div class="table" id="treasureTable"></div>
      </div>
    </section>

    <section class="unit-card" id="dpsCompare">
      <h2 class="h2">DPS比較</h2>
      <div class="compare-grid">
        <div class="compare-col">
          <h3 class="h3">A</h3>
          <div class="form-row"><label>Lv</label><select id="dpsALv"></select></div>
          <div class="form-row"><label>専用財宝Lv</label><select id="dpsATre"></select></div>
          <div class="form-row" id="dpsAFormRow" hidden><label>形態</label><select id="dpsAForm"></select></div>
          <div class="result"><div class="k">推定DPS</div><div class="v" id="dpsAOut">-</div></div>
        </div>

        <div class="compare-col">
          <h3 class="h3">B</h3>
          <div class="form-row"><label>Lv</label><select id="dpsBLv"></select></div>
          <div class="form-row"><label>専用財宝Lv</label><select id="dpsBTre"></select></div>
          <div class="form-row" id="dpsBFormRow" hidden><label>形態</label><select id="dpsBForm"></select></div>
          <div class="result"><div class="k">推定DPS</div><div class="v" id="dpsBOut">-</div></div>
        </div>
      </div>

      <div class="btn-row">
        <button class="btn" id="dpsSaveBtn">保存</button>
        <button class="btn ghost" id="dpsResetBtn">リセット</button>
      </div>
      <div class="hint">※保存先は localStorage（端末内）</div>
    </section>

    <section class="unit-card" id="article">
      <h2 class="h2">記事</h2>

      <div class="article-block">
        <div class="article-head">
          <h3 class="h3">概要</h3>
          <button class="btn sm" id="btnEditOverview" hidden>編集</button>
          <button class="btn sm" id="btnSuggestOverview" hidden>提案</button>
        </div>
        <div class="md" id="mdOverview"></div>
      </div>

      <div class="article-block">
        <div class="article-head">
          <h3 class="h3">役割</h3>
          <button class="btn sm" id="btnEditRole" hidden>編集</button>
          <button class="btn sm" id="btnSuggestRole" hidden>提案</button>
        </div>
        <div class="md" id="mdRole"></div>
      </div>

      <div class="article-block">
        <div class="article-head">
          <h3 class="h3">評価</h3>
          <button class="btn sm" id="btnEditRating" hidden>編集</button>
          <button class="btn sm" id="btnSuggestRating" hidden>提案</button>
        </div>
        <div class="md" id="mdRating"></div>
      </div>
    </section>

    <section class="unit-card" id="comments">
      <h2 class="h2">コメント</h2>
      <div class="comment-form">
        <textarea id="cText" rows="3" placeholder="テキストのみ（匿名OK）"></textarea>
        <div class="btn-row"><button class="btn" id="cPostBtn">投稿</button></div>
        <div class="hint" id="cHint"></div>
      </div>
      <div class="comment-list" id="cList"></div>
      <div class="pager" id="cPager" hidden></div>
    </section>

  </main>

  <script src="units/unit_page.js?v=20251228a"></script>
</body>
</html>
